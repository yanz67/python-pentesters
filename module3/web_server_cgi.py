#!/usr/bin/env python3

import socketserver
from http.server import HTTPServer, CGIHTTPRequestHandler
from http import HTTPStatus
import cgi
import cgitb


class CGIRequestHandler(CGIHTTPRequestHandler):
    cgi_directories = ['/cgi-bin']


if __name__ == '__main__':
    cgitb.enable()
    http_server = HTTPServer(("", 10001), CGIRequestHandler)
    try:
        http_server.serve_forever()
    except KeyboardInterrupt:
        print('closing server')
        http_server.server_close()
